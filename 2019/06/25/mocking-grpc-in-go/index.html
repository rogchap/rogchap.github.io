<!DOCTYPE html>
<html lang="en">
<head>
  
  <meta charset="utf-8">
  <title>Mocking gRPC in Go</title>
  <meta name="description" content="One of the huge benefits of using gRPC is the ability to autogenerate our client and server stubs from the protocol buffer definitions.
In the same way, we can we generate our own code by building a plugin for the protocol buffer compiler (protoc).
The plugin we&rsquo;re creating is going to auto-generate gRPC response messages so that we can build a mock gRPC server in Go (Golang).
Goal Given the following proto file:">
  <meta name="author" content="">
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <noscript>
    <link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://rogchap.com/css/fonts.css">
  </noscript>
  
  
  <style type="text/css" media="screen">
    /*!
Pure v1.0.0
Copyright 2013 Yahoo!
Licensed under the BSD License.
https://github.com/yahoo/pure/blob/master/LICENSE.md
*/
/*!
normalize.css v^3.0 | MIT License | git.io/normalize
Copyright (c) Nicolas Gallagher and Jonathan Neal
*/
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */img,legend{border:0}legend,td,th{padding:0}html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,optgroup,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre,textarea{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}table{border-collapse:collapse;border-spacing:0}.hidden,[hidden]{display:none!important}.pure-img{max-width:100%;height:auto;display:block}
  </style>
  <style type="text/css" media="screen">
    /*!
Pure v1.0.0
Copyright 2013 Yahoo!
Licensed under the BSD License.
https://github.com/yahoo/pure/blob/master/LICENSE.md
*/
.pure-menu{box-sizing:border-box}.pure-menu-fixed{position:fixed;left:0;top:0;z-index:3}.pure-menu-item,.pure-menu-list{position:relative}.pure-menu-list{list-style:none;margin:0;padding:0}.pure-menu-item{padding:0;margin:0;height:100%}.pure-menu-heading,.pure-menu-link{display:block;text-decoration:none;white-space:nowrap}.pure-menu-horizontal{width:100%;white-space:normal}.pure-menu-horizontal .pure-menu-list{display:inline-block}.pure-menu-horizontal .pure-menu-heading,.pure-menu-horizontal .pure-menu-item,.pure-menu-horizontal .pure-menu-separator{display:inline-block;zoom:1;vertical-align:middle}.pure-menu-item .pure-menu-item{display:block}.pure-menu-children{display:none;position:absolute;left:100%;top:0;margin:0;padding:0;z-index:3}.pure-menu-horizontal .pure-menu-children{left:0;top:auto;width:inherit}.pure-menu-active>.pure-menu-children,.pure-menu-allow-hover:hover>.pure-menu-children{display:block;position:absolute}.pure-menu-has-children>.pure-menu-link:after{padding-left:.5em;content:"\25B8";font-size:small}.pure-menu-horizontal .pure-menu-has-children>.pure-menu-link:after{content:"\25BE"}.pure-menu-scrollable{overflow-y:scroll;overflow-x:hidden}.pure-menu-scrollable .pure-menu-list{display:block}.pure-menu-horizontal.pure-menu-scrollable .pure-menu-list{display:inline-block}.pure-menu-horizontal.pure-menu-scrollable{white-space:nowrap;overflow-y:hidden;overflow-x:auto;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;padding:.5em 0}.pure-menu-horizontal.pure-menu-scrollable::-webkit-scrollbar{display:none}.pure-menu-horizontal .pure-menu-children .pure-menu-separator,.pure-menu-separator{background-color:#ccc;height:1px;margin:.3em 0}.pure-menu-horizontal .pure-menu-separator{width:1px;height:1.3em;margin:0 .3em}.pure-menu-horizontal .pure-menu-children .pure-menu-separator{display:block;width:auto}.pure-menu-heading{text-transform:uppercase;color:#565d64}.pure-menu-link{color:#777}.pure-menu-children{background-color:#fff}.pure-menu-disabled,.pure-menu-heading,.pure-menu-link{padding:.5em 1em}.pure-menu-disabled{opacity:.5}.pure-menu-disabled .pure-menu-link:hover{background-color:transparent}.pure-menu-active>.pure-menu-link,.pure-menu-link:focus,.pure-menu-link:hover{background-color:#eee}.pure-menu-selected .pure-menu-link,.pure-menu-selected .pure-menu-link:visited{color:#000}

  </style>
  <style type="text/css" media="screen">
    /*!
Pure v1.0.0
Copyright 2013 Yahoo!
Licensed under the BSD License.
https://github.com/yahoo/pure/blob/master/LICENSE.md
*/
.pure-g{letter-spacing:-.31em;text-rendering:optimizespeed;font-family:FreeSans,Arimo,"Droid Sans",Helvetica,Arial,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-align-content:flex-start;-ms-flex-line-pack:start;align-content:flex-start}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){table .pure-g{display:block}}.opera-only :-o-prefocus,.pure-g{word-spacing:-.43em}.pure-u,.pure-u-1,.pure-u-1-1,.pure-u-1-12,.pure-u-1-2,.pure-u-1-24,.pure-u-1-3,.pure-u-1-4,.pure-u-1-5,.pure-u-1-6,.pure-u-1-8,.pure-u-10-24,.pure-u-11-12,.pure-u-11-24,.pure-u-12-24,.pure-u-13-24,.pure-u-14-24,.pure-u-15-24,.pure-u-16-24,.pure-u-17-24,.pure-u-18-24,.pure-u-19-24,.pure-u-2-24,.pure-u-2-3,.pure-u-2-5,.pure-u-20-24,.pure-u-21-24,.pure-u-22-24,.pure-u-23-24,.pure-u-24-24,.pure-u-3-24,.pure-u-3-4,.pure-u-3-5,.pure-u-3-8,.pure-u-4-24,.pure-u-4-5,.pure-u-5-12,.pure-u-5-24,.pure-u-5-5,.pure-u-5-6,.pure-u-5-8,.pure-u-6-24,.pure-u-7-12,.pure-u-7-24,.pure-u-7-8,.pure-u-8-24,.pure-u-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}.pure-g [class*=pure-u]{font-family:sans-serif}.pure-u-1-24{width:4.1667%}.pure-u-1-12,.pure-u-2-24{width:8.3333%}.pure-u-1-8,.pure-u-3-24{width:12.5%}.pure-u-1-6,.pure-u-4-24{width:16.6667%}.pure-u-1-5{width:20%}.pure-u-5-24{width:20.8333%}.pure-u-1-4,.pure-u-6-24{width:25%}.pure-u-7-24{width:29.1667%}.pure-u-1-3,.pure-u-8-24{width:33.3333%}.pure-u-3-8,.pure-u-9-24{width:37.5%}.pure-u-2-5{width:40%}.pure-u-10-24,.pure-u-5-12{width:41.6667%}.pure-u-11-24{width:45.8333%}.pure-u-1-2,.pure-u-12-24{width:50%}.pure-u-13-24{width:54.1667%}.pure-u-14-24,.pure-u-7-12{width:58.3333%}.pure-u-3-5{width:60%}.pure-u-15-24,.pure-u-5-8{width:62.5%}.pure-u-16-24,.pure-u-2-3{width:66.6667%}.pure-u-17-24{width:70.8333%}.pure-u-18-24,.pure-u-3-4{width:75%}.pure-u-19-24{width:79.1667%}.pure-u-4-5{width:80%}.pure-u-20-24,.pure-u-5-6{width:83.3333%}.pure-u-21-24,.pure-u-7-8{width:87.5%}.pure-u-11-12,.pure-u-22-24{width:91.6667%}.pure-u-23-24{width:95.8333%}.pure-u-1,.pure-u-1-1,.pure-u-24-24,.pure-u-5-5{width:100%}
  </style>
  <style type="text/css" media="screen">
    /*!
Pure v1.0.0
Copyright 2013 Yahoo!
Licensed under the BSD License.
https://github.com/yahoo/pure/blob/master/LICENSE.md
*/
.pure-table{border-collapse:collapse;border-spacing:0;empty-cells:show;border:1px solid #cbcbcb}.pure-table caption{color:#000;font:italic 85%/1 arial,sans-serif;padding:1em 0;text-align:center}.pure-table td,.pure-table th{border-left:1px solid #cbcbcb;border-width:0 0 0 1px;font-size:inherit;margin:0;overflow:visible;padding:.5em 1em}.pure-table td:first-child,.pure-table th:first-child{border-left-width:0}.pure-table thead{background-color:#e0e0e0;color:#000;text-align:left;vertical-align:bottom}.pure-table td{background-color:transparent}.pure-table-odd td,.pure-table-striped tr:nth-child(2n-1) td{background-color:#f2f2f2}.pure-table-bordered td{border-bottom:1px solid #cbcbcb}.pure-table-bordered tbody>tr:last-child>td{border-bottom-width:0}.pure-table-horizontal td,.pure-table-horizontal th{border-width:0 0 1px;border-bottom:1px solid #cbcbcb}.pure-table-horizontal tbody>tr:last-child>td{border-bottom-width:0}
  </style>
  
  
  <style type="text/css" media="screen">
    /*!
Pure v1.0.0
Copyright 2013 Yahoo!
Licensed under the BSD License.
https://github.com/yahoo/pure/blob/master/LICENSE.md
*/
@media screen and (min-width:35.5em){.pure-u-sm-1,.pure-u-sm-1-1,.pure-u-sm-1-12,.pure-u-sm-1-2,.pure-u-sm-1-24,.pure-u-sm-1-3,.pure-u-sm-1-4,.pure-u-sm-1-5,.pure-u-sm-1-6,.pure-u-sm-1-8,.pure-u-sm-10-24,.pure-u-sm-11-12,.pure-u-sm-11-24,.pure-u-sm-12-24,.pure-u-sm-13-24,.pure-u-sm-14-24,.pure-u-sm-15-24,.pure-u-sm-16-24,.pure-u-sm-17-24,.pure-u-sm-18-24,.pure-u-sm-19-24,.pure-u-sm-2-24,.pure-u-sm-2-3,.pure-u-sm-2-5,.pure-u-sm-20-24,.pure-u-sm-21-24,.pure-u-sm-22-24,.pure-u-sm-23-24,.pure-u-sm-24-24,.pure-u-sm-3-24,.pure-u-sm-3-4,.pure-u-sm-3-5,.pure-u-sm-3-8,.pure-u-sm-4-24,.pure-u-sm-4-5,.pure-u-sm-5-12,.pure-u-sm-5-24,.pure-u-sm-5-5,.pure-u-sm-5-6,.pure-u-sm-5-8,.pure-u-sm-6-24,.pure-u-sm-7-12,.pure-u-sm-7-24,.pure-u-sm-7-8,.pure-u-sm-8-24,.pure-u-sm-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}.pure-u-sm-1-24{width:4.1667%}.pure-u-sm-1-12,.pure-u-sm-2-24{width:8.3333%}.pure-u-sm-1-8,.pure-u-sm-3-24{width:12.5%}.pure-u-sm-1-6,.pure-u-sm-4-24{width:16.6667%}.pure-u-sm-1-5{width:20%}.pure-u-sm-5-24{width:20.8333%}.pure-u-sm-1-4,.pure-u-sm-6-24{width:25%}.pure-u-sm-7-24{width:29.1667%}.pure-u-sm-1-3,.pure-u-sm-8-24{width:33.3333%}.pure-u-sm-3-8,.pure-u-sm-9-24{width:37.5%}.pure-u-sm-2-5{width:40%}.pure-u-sm-10-24,.pure-u-sm-5-12{width:41.6667%}.pure-u-sm-11-24{width:45.8333%}.pure-u-sm-1-2,.pure-u-sm-12-24{width:50%}.pure-u-sm-13-24{width:54.1667%}.pure-u-sm-14-24,.pure-u-sm-7-12{width:58.3333%}.pure-u-sm-3-5{width:60%}.pure-u-sm-15-24,.pure-u-sm-5-8{width:62.5%}.pure-u-sm-16-24,.pure-u-sm-2-3{width:66.6667%}.pure-u-sm-17-24{width:70.8333%}.pure-u-sm-18-24,.pure-u-sm-3-4{width:75%}.pure-u-sm-19-24{width:79.1667%}.pure-u-sm-4-5{width:80%}.pure-u-sm-20-24,.pure-u-sm-5-6{width:83.3333%}.pure-u-sm-21-24,.pure-u-sm-7-8{width:87.5%}.pure-u-sm-11-12,.pure-u-sm-22-24{width:91.6667%}.pure-u-sm-23-24{width:95.8333%}.pure-u-sm-1,.pure-u-sm-1-1,.pure-u-sm-24-24,.pure-u-sm-5-5{width:100%}}@media screen and (min-width:48em){.pure-u-md-1,.pure-u-md-1-1,.pure-u-md-1-12,.pure-u-md-1-2,.pure-u-md-1-24,.pure-u-md-1-3,.pure-u-md-1-4,.pure-u-md-1-5,.pure-u-md-1-6,.pure-u-md-1-8,.pure-u-md-10-24,.pure-u-md-11-12,.pure-u-md-11-24,.pure-u-md-12-24,.pure-u-md-13-24,.pure-u-md-14-24,.pure-u-md-15-24,.pure-u-md-16-24,.pure-u-md-17-24,.pure-u-md-18-24,.pure-u-md-19-24,.pure-u-md-2-24,.pure-u-md-2-3,.pure-u-md-2-5,.pure-u-md-20-24,.pure-u-md-21-24,.pure-u-md-22-24,.pure-u-md-23-24,.pure-u-md-24-24,.pure-u-md-3-24,.pure-u-md-3-4,.pure-u-md-3-5,.pure-u-md-3-8,.pure-u-md-4-24,.pure-u-md-4-5,.pure-u-md-5-12,.pure-u-md-5-24,.pure-u-md-5-5,.pure-u-md-5-6,.pure-u-md-5-8,.pure-u-md-6-24,.pure-u-md-7-12,.pure-u-md-7-24,.pure-u-md-7-8,.pure-u-md-8-24,.pure-u-md-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}.pure-u-md-1-24{width:4.1667%}.pure-u-md-1-12,.pure-u-md-2-24{width:8.3333%}.pure-u-md-1-8,.pure-u-md-3-24{width:12.5%}.pure-u-md-1-6,.pure-u-md-4-24{width:16.6667%}.pure-u-md-1-5{width:20%}.pure-u-md-5-24{width:20.8333%}.pure-u-md-1-4,.pure-u-md-6-24{width:25%}.pure-u-md-7-24{width:29.1667%}.pure-u-md-1-3,.pure-u-md-8-24{width:33.3333%}.pure-u-md-3-8,.pure-u-md-9-24{width:37.5%}.pure-u-md-2-5{width:40%}.pure-u-md-10-24,.pure-u-md-5-12{width:41.6667%}.pure-u-md-11-24{width:45.8333%}.pure-u-md-1-2,.pure-u-md-12-24{width:50%}.pure-u-md-13-24{width:54.1667%}.pure-u-md-14-24,.pure-u-md-7-12{width:58.3333%}.pure-u-md-3-5{width:60%}.pure-u-md-15-24,.pure-u-md-5-8{width:62.5%}.pure-u-md-16-24,.pure-u-md-2-3{width:66.6667%}.pure-u-md-17-24{width:70.8333%}.pure-u-md-18-24,.pure-u-md-3-4{width:75%}.pure-u-md-19-24{width:79.1667%}.pure-u-md-4-5{width:80%}.pure-u-md-20-24,.pure-u-md-5-6{width:83.3333%}.pure-u-md-21-24,.pure-u-md-7-8{width:87.5%}.pure-u-md-11-12,.pure-u-md-22-24{width:91.6667%}.pure-u-md-23-24{width:95.8333%}.pure-u-md-1,.pure-u-md-1-1,.pure-u-md-24-24,.pure-u-md-5-5{width:100%}}@media screen and (min-width:64em){.pure-u-lg-1,.pure-u-lg-1-1,.pure-u-lg-1-12,.pure-u-lg-1-2,.pure-u-lg-1-24,.pure-u-lg-1-3,.pure-u-lg-1-4,.pure-u-lg-1-5,.pure-u-lg-1-6,.pure-u-lg-1-8,.pure-u-lg-10-24,.pure-u-lg-11-12,.pure-u-lg-11-24,.pure-u-lg-12-24,.pure-u-lg-13-24,.pure-u-lg-14-24,.pure-u-lg-15-24,.pure-u-lg-16-24,.pure-u-lg-17-24,.pure-u-lg-18-24,.pure-u-lg-19-24,.pure-u-lg-2-24,.pure-u-lg-2-3,.pure-u-lg-2-5,.pure-u-lg-20-24,.pure-u-lg-21-24,.pure-u-lg-22-24,.pure-u-lg-23-24,.pure-u-lg-24-24,.pure-u-lg-3-24,.pure-u-lg-3-4,.pure-u-lg-3-5,.pure-u-lg-3-8,.pure-u-lg-4-24,.pure-u-lg-4-5,.pure-u-lg-5-12,.pure-u-lg-5-24,.pure-u-lg-5-5,.pure-u-lg-5-6,.pure-u-lg-5-8,.pure-u-lg-6-24,.pure-u-lg-7-12,.pure-u-lg-7-24,.pure-u-lg-7-8,.pure-u-lg-8-24,.pure-u-lg-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}.pure-u-lg-1-24{width:4.1667%}.pure-u-lg-1-12,.pure-u-lg-2-24{width:8.3333%}.pure-u-lg-1-8,.pure-u-lg-3-24{width:12.5%}.pure-u-lg-1-6,.pure-u-lg-4-24{width:16.6667%}.pure-u-lg-1-5{width:20%}.pure-u-lg-5-24{width:20.8333%}.pure-u-lg-1-4,.pure-u-lg-6-24{width:25%}.pure-u-lg-7-24{width:29.1667%}.pure-u-lg-1-3,.pure-u-lg-8-24{width:33.3333%}.pure-u-lg-3-8,.pure-u-lg-9-24{width:37.5%}.pure-u-lg-2-5{width:40%}.pure-u-lg-10-24,.pure-u-lg-5-12{width:41.6667%}.pure-u-lg-11-24{width:45.8333%}.pure-u-lg-1-2,.pure-u-lg-12-24{width:50%}.pure-u-lg-13-24{width:54.1667%}.pure-u-lg-14-24,.pure-u-lg-7-12{width:58.3333%}.pure-u-lg-3-5{width:60%}.pure-u-lg-15-24,.pure-u-lg-5-8{width:62.5%}.pure-u-lg-16-24,.pure-u-lg-2-3{width:66.6667%}.pure-u-lg-17-24{width:70.8333%}.pure-u-lg-18-24,.pure-u-lg-3-4{width:75%}.pure-u-lg-19-24{width:79.1667%}.pure-u-lg-4-5{width:80%}.pure-u-lg-20-24,.pure-u-lg-5-6{width:83.3333%}.pure-u-lg-21-24,.pure-u-lg-7-8{width:87.5%}.pure-u-lg-11-12,.pure-u-lg-22-24{width:91.6667%}.pure-u-lg-23-24{width:95.8333%}.pure-u-lg-1,.pure-u-lg-1-1,.pure-u-lg-24-24,.pure-u-lg-5-5{width:100%}}@media screen and (min-width:80em){.pure-u-xl-1,.pure-u-xl-1-1,.pure-u-xl-1-12,.pure-u-xl-1-2,.pure-u-xl-1-24,.pure-u-xl-1-3,.pure-u-xl-1-4,.pure-u-xl-1-5,.pure-u-xl-1-6,.pure-u-xl-1-8,.pure-u-xl-10-24,.pure-u-xl-11-12,.pure-u-xl-11-24,.pure-u-xl-12-24,.pure-u-xl-13-24,.pure-u-xl-14-24,.pure-u-xl-15-24,.pure-u-xl-16-24,.pure-u-xl-17-24,.pure-u-xl-18-24,.pure-u-xl-19-24,.pure-u-xl-2-24,.pure-u-xl-2-3,.pure-u-xl-2-5,.pure-u-xl-20-24,.pure-u-xl-21-24,.pure-u-xl-22-24,.pure-u-xl-23-24,.pure-u-xl-24-24,.pure-u-xl-3-24,.pure-u-xl-3-4,.pure-u-xl-3-5,.pure-u-xl-3-8,.pure-u-xl-4-24,.pure-u-xl-4-5,.pure-u-xl-5-12,.pure-u-xl-5-24,.pure-u-xl-5-5,.pure-u-xl-5-6,.pure-u-xl-5-8,.pure-u-xl-6-24,.pure-u-xl-7-12,.pure-u-xl-7-24,.pure-u-xl-7-8,.pure-u-xl-8-24,.pure-u-xl-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}.pure-u-xl-1-24{width:4.1667%}.pure-u-xl-1-12,.pure-u-xl-2-24{width:8.3333%}.pure-u-xl-1-8,.pure-u-xl-3-24{width:12.5%}.pure-u-xl-1-6,.pure-u-xl-4-24{width:16.6667%}.pure-u-xl-1-5{width:20%}.pure-u-xl-5-24{width:20.8333%}.pure-u-xl-1-4,.pure-u-xl-6-24{width:25%}.pure-u-xl-7-24{width:29.1667%}.pure-u-xl-1-3,.pure-u-xl-8-24{width:33.3333%}.pure-u-xl-3-8,.pure-u-xl-9-24{width:37.5%}.pure-u-xl-2-5{width:40%}.pure-u-xl-10-24,.pure-u-xl-5-12{width:41.6667%}.pure-u-xl-11-24{width:45.8333%}.pure-u-xl-1-2,.pure-u-xl-12-24{width:50%}.pure-u-xl-13-24{width:54.1667%}.pure-u-xl-14-24,.pure-u-xl-7-12{width:58.3333%}.pure-u-xl-3-5{width:60%}.pure-u-xl-15-24,.pure-u-xl-5-8{width:62.5%}.pure-u-xl-16-24,.pure-u-xl-2-3{width:66.6667%}.pure-u-xl-17-24{width:70.8333%}.pure-u-xl-18-24,.pure-u-xl-3-4{width:75%}.pure-u-xl-19-24{width:79.1667%}.pure-u-xl-4-5{width:80%}.pure-u-xl-20-24,.pure-u-xl-5-6{width:83.3333%}.pure-u-xl-21-24,.pure-u-xl-7-8{width:87.5%}.pure-u-xl-11-12,.pure-u-xl-22-24{width:91.6667%}.pure-u-xl-23-24{width:95.8333%}.pure-u-xl-1,.pure-u-xl-1-1,.pure-u-xl-24-24,.pure-u-xl-5-5{width:100%}}
  </style>
  

  
  <style type="text/css" media="screen">
    html {
	min-height: 100%;
	width: 100%;
	position: relative;
}

body {
	background-color: rgb(252, 252, 252);
	color: #484848;
}

a {
	text-decoration: none;
}

code, kbd, pre, samp {
    background-color: rgb(240, 240, 240);
}

.nav-menu {
	margin-top: 5px;
	padding-bottom: 5px;
	border-bottom: 1px solid #e3e3e3;
}

.pure-menu-heading {
	text-transform: none;
	font-size: large;
}

.header {
	text-align: left;
	color: #484848;
	margin-bottom: .5em;
}

.header ul li {
	height: auto;
}

.header ul li a {
	font-weight: bold;
	color: #484848;
	font-family: "Source Sans Pro", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
}

.header {
	font-weight: bold;
	color: #484848;
	font-family: "Source Sans Pro", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
}

.site-title {
	color: #484848;
	text-transform: none;
	font-weight: normal;
	font-family: "Source Sans Pro", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
}

.pull-right {
	float: right;
}

.posts-name {
	text-transform: capitalize;
	font-weight: bold;
	padding-left: 1em;
	margin-top: 1em;
	font-family: "Source Sans Pro", "HelveticaNeue", "Helvetica Neue", Helvetica, Arial, sans-serif;
}

.posts {
	font-family: verdana, arial, helvetica, sans-serif;
	list-style-type: none;
	padding-left: 1em;
}

.posts li p {
	margin-top: 0;
}

.posts li {
	margin-bottom: 1em;
}

.posts li > a {
	color: #369;
	text-decoration: none;
}
.posts li > a:hover {
	color: #2d5986;
	text-decoration: underline;
}

.post-list {
	font-size: large;
}

.footnote {
	font-family: verdana, arial, helvetica, sans-serif;
	color: #575757;
	font-size: 0.75em;
	margin-bottom: 0;
}

.footnote a {
	color: #575757;
}

.footnote a:hover {
	text-decoration: underline;
	color: #369;
}

.footer {
	position: absolute;
	z-index: 2;
	height: auto;
	width: 100%;
	bottom: 0;
}

.footer-content {
	border-top: 1px solid #e3e3e3;
	font-size: 80%;
	color: #bbb;
}

.footer-content a {
	color: #575757;
}

.footer-content ul {
	height: auto;
	margin-top: 0;
	margin-bottom: 0;
	display: inline-block;
	padding-left: 0;
}

/* https://github.com/gohugoio/hugo/issues/1778#issuecomment-451552602 */
#TableOfContents > ul {
    list-style: none;
    margin: 0;
    padding: 0;
}

#gototop-btn {
	display: inline-block;
}

#foot-name {
	color: #484848;
	text-transform: none;
}

#foot-copyright {
	padding-left: 1em;
	padding-bottom: 0.5em;
	margin: 0;
}

.post {
	font-family: proxima-nova, "Helvetica Neue", Helvetica, Roboto, Arial, sans-serif;
	color: #484848;
	letter-spacing: normal;
	padding-left: .5em;
}

.post h1, h2, h3, h4, h5, h6 {
	font-weight: bold;
	letter-spacing: normal;
}

.post-content {
	z-index: 9;
	overflow: auto;
	padding: 0;
	padding-bottom: 3em;
	font-size: 16px;
	line-height: 1.4;
}

.post-content img {
	max-width: 100%;
	height: auto;
    display: block;
    margin: 0 auto;
}

.post-content pre {
	padding: 0.5em;
}

.post a {
	color: #369;
	text-decoration: none;
}

.post a:hover {
	color: #2d5986;
	text-decoration: underline;
}

.post h1 {
	font-size: 28px;
}

.post h2 {
	font-size: 25px;
}

.post h3 {
	font-size: 23px;
}

.post h4 {
	font-size: 21px;
}

.post h5 {
	font-size: 19px;
}

.post h6 {
	font-size: 18px;
}

.post-title {
	margin-top: 0;
	margin-bottom: 2em;
}

.post-title h1 {
	font-weight: bold;
	font-size: 39px;
	line-height: 40px;
	margin-top: 0;
	margin-bottom: 0;
}

@media screen and (max-width: 767px) {
	.desktop {
		display: none;
	}

	.mobile {
		display: block;
	}

	#toggle-btn {
		float: right;
		padding: .5em 1em;
		text-decoration: none;
		color: #484848;
		font-weight: bold;
		line-height: 1.5em;
	}

	#toggle-content li {
		clear: both;
		height: auto;
		background-color: rgb(249, 249, 249);
	}

	#toggle-home {
		display: inline-block;
	}
}

@media screen and (min-width: 768px) {
	.mobile {
		display: none;
	}

	.desktop {
		display: block;
	}
}

  </style>

  
  <link rel="shortcut icon" 
   
    href="https://rogchap.com/favicon.ico"
  
  type="image/x-icon">

  
  <meta name="generator" content="Hugo 0.74.3" />

  
  <meta property="og:title" content="Mocking gRPC in Go" />
<meta property="og:description" content="One of the huge benefits of using gRPC is the ability to autogenerate our client and server stubs from the protocol buffer definitions.
In the same way, we can we generate our own code by building a plugin for the protocol buffer compiler (protoc).
The plugin we&rsquo;re creating is going to auto-generate gRPC response messages so that we can build a mock gRPC server in Go (Golang).
Goal Given the following proto file:" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://rogchap.com/2019/06/25/mocking-grpc-in-go/" />
<meta property="og:image" content="https://rogchap.com/tile.png"/>
<meta property="article:published_time" content="2019-06-25T22:20:10+10:00" />
<meta property="article:modified_time" content="2019-06-25T22:20:10+10:00" />

</head>
<body>

<div class="header pure-g">
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
    <div class="pure-u-11-12 pure-u-md-7-12">
        <div class="desktop pure-menu pure-menu-horizontal nav-menu">
            
            <a href="https://rogchap.com/" class="site-title pure-menu-heading">Roger Chapman</a>
            <ul class="pure-menu-list pull-right">
                
                <li class="pure-menu-item">
                    <a href="https://rogchap.com/about/" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
        <div class="mobile pure-menu nav-menu">
            <a href="https://rogchap.com/" class="site-title pure-menu-heading" id="toggle-home">Roger Chapman</a>
            <a href="#" id="toggle-btn">&#9776;</a>
            <ul class="pure-menu-list" id="toggle-content" style="display:none;">
                
                
                <li class="pure-menu-item">
                    <a href="https://rogchap.com/about/" class="pure-menu-link">About</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="pure-u-1-24 pure-u-md-5-24"></div>
</div>

<div class="pure-g">
  <div class="pure-u-1-24 pure-u-md-5-24"></div>
  <div class="pure-u-11-12 pure-u-md-7-12">
    <div class="post">

      <div class="post-title">
        <p class="footnote">
          
          <time datetime="2019-06-25 22:20:10 &#43;1000 AEST">
            
            Jun 25, 2019
            
          </time>
          
          
          
          |
          
          
          tags: [ <a
            href="https://rogchap.com/tags/go">Go</a>, <a
            href="https://rogchap.com/tags/grpc">gRPC</a> ]
          

          

          
        </p>
        <h1>Mocking gRPC in Go</h1>
      </div>

      <div class="post-content">
        
        <p>One of the huge benefits of using gRPC is the ability to autogenerate our client and server stubs from the protocol buffer definitions.</p>
<p>In the same way, we can we generate our own code by building a plugin for the protocol buffer compiler (protoc).</p>
<p>The plugin we&rsquo;re creating is going to auto-generate gRPC response messages so that we can build a mock gRPC server in Go (Golang).</p>
<h2 id="goal">Goal</h2>
<p>Given the following <code>proto</code> file:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-proto" data-lang="proto"><span style="color:#007020;font-weight:bold">service</span> MyService {<span style="">
</span><span style=""></span>  <span style="color:#007020;font-weight:bold">rpc</span> Get(Request) <span style="color:#007020;font-weight:bold">returns</span> (Response) {}<span style="">
</span><span style=""></span>}<span style="">
</span><span style=""></span><span style="color:#007020;font-weight:bold">message</span> <span style="color:#0e84b5;font-weight:bold">Request</span> {}<span style="">
</span><span style=""></span><span style="color:#007020;font-weight:bold">message</span> <span style="color:#0e84b5;font-weight:bold">Response</span> {<span style="">
</span><span style=""></span>  <span style="color:#902000">string</span> id <span style="color:#666">=</span> <span style="color:#40a070">1</span>;<span style="">
</span><span style=""></span>}<span style="">
</span></code></pre></div><p>We want to be able to generate something like:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">func</span> (m <span style="color:#666">*</span>MyServiceMock) <span style="color:#06287e">Get</span>(context.Context, <span style="color:#666">*</span>Request) (<span style="color:#666">*</span>Response, <span style="color:#902000">error</span>) {
    <span style="color:#007020;font-weight:bold">return</span> Response{Id: <span style="color:#4070a0">&#34;f267332d-0d9a-4220-b055-63b661b600db&#34;</span>}, <span style="color:#007020;font-weight:bold">nil</span>
}
</code></pre></div><h2 id="creating-a-protoc-go-plugin">Creating a protoc Go plugin</h2>
<p>All we have to do is implement the <code>Plugin</code> interface defined in <code>protobuf/protoc-gen-go/generator</code>:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">type</span> grpcmock <span style="color:#007020;font-weight:bold">struct</span> {
	<span style="color:#666">*</span>generator.Generator
}
<span style="color:#007020;font-weight:bold">func</span> <span style="color:#06287e">New</span>() generator.Plugin {
	<span style="color:#007020;font-weight:bold">return</span> <span style="color:#666">&amp;</span>grpcmock{}
}
<span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">Name</span>() <span style="color:#902000">string</span> {
	<span style="color:#007020;font-weight:bold">return</span> <span style="color:#4070a0">&#34;grpcmock&#34;</span>
}
<span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">Init</span>(gen <span style="color:#666">*</span>generator.Generator) {
	g.Generator = gen
}
<span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">Generate</span>(file <span style="color:#666">*</span>generator.FileDescriptor) {
	<span style="color:#007020;font-weight:bold">for</span> _, service <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">range</span> file.FileDescriptorProto.Service {
		g.<span style="color:#06287e">mockService</span>(file, service)
	}
}
<span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">GenerateImports</span>(file <span style="color:#666">*</span>generator.FileDescriptor) {
	imports <span style="color:#666">:=</span> generator.<span style="color:#06287e">NewPluginImports</span>(g.Generator)
	imports.<span style="color:#06287e">GenerateImports</span>(file)
}
</code></pre></div><h2 id="mocking-a-service">Mocking a Service</h2>
<p>Now that we have satisfied our Plugin interface we can implement our mock services:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">mockService</span>(file <span style="color:#666">*</span>generator.FileDescriptor, service <span style="color:#666">*</span>descriptor.ServiceDescriptorProto) {
	origServName <span style="color:#666">:=</span> service.<span style="color:#06287e">GetName</span>()
	servName <span style="color:#666">:=</span> generator.<span style="color:#06287e">CamelCase</span>(origServName)
	servTypeName <span style="color:#666">:=</span> fmt.<span style="color:#06287e">Sprintf</span>(<span style="color:#4070a0">&#34;%sMock&#34;</span>, servName)

	g.<span style="color:#06287e">P</span>(<span style="color:#4070a0">`type `</span>, servTypeName, <span style="color:#4070a0">` struct {}`</span>)
	g.<span style="color:#06287e">P</span>()
	<span style="color:#007020;font-weight:bold">for</span> _, method <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">range</span> service.Method {
		g.<span style="color:#06287e">mockMethod</span>(servTypeName, method)
	}
}
</code></pre></div><p>This gives us our mock struct that we can create our methods from to implement the gRPC interface for our service:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">mockMethod</span>(servTypeName <span style="color:#902000">string</span>, method <span style="color:#666">*</span>descriptor.MethodDescriptorProto) {
	methName <span style="color:#666">:=</span> generator.<span style="color:#06287e">CamelCase</span>(method.<span style="color:#06287e">GetName</span>())
	inType <span style="color:#666">:=</span> g.<span style="color:#06287e">typeName</span>(method.<span style="color:#06287e">GetInputType</span>())
	outType <span style="color:#666">:=</span> g.<span style="color:#06287e">typeName</span>(method.<span style="color:#06287e">GetOutputType</span>())

	g.<span style="color:#06287e">P</span>(<span style="color:#4070a0">`func (m *`</span>, servTypeName, <span style="color:#4070a0">`) `</span>, methName, <span style="color:#4070a0">`(context.Context, *`</span>, inType, <span style="color:#4070a0">`) (*`</span>, outType, <span style="color:#4070a0">`, error){`</span>)
	g.<span style="color:#06287e">In</span>()
	
    msg <span style="color:#666">:=</span> g.<span style="color:#06287e">objectNamed</span>(method.<span style="color:#06287e">GetOutputType</span>()).(<span style="color:#666">*</span>generator.Descriptor)
	g.<span style="color:#06287e">P</span>(<span style="color:#4070a0">`res := `</span>)
    g.<span style="color:#06287e">generateMockMessage</span>(msg)
    g.<span style="color:#06287e">P</span>(<span style="color:#4070a0">`return res, nil`</span>)

	g.<span style="color:#06287e">Out</span>()
	g.<span style="color:#06287e">P</span>(<span style="color:#4070a0">`}`</span>)
}
</code></pre></div><p>The last part is to generate the response message and it&rsquo;s fields:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">func</span> (g <span style="color:#666">*</span>grpcmock) <span style="color:#06287e">generateMockMessage</span>(msg <span style="color:#666">*</span>generator.Descriptor) {
    msgName <span style="color:#666">:=</span> g.<span style="color:#06287e">TypeName</span>(msg)
    g.<span style="color:#06287e">P</span>(msgName, <span style="color:#4070a0">`{`</span>)
    g.<span style="color:#06287e">In</span>()
	<span style="color:#007020;font-weight:bold">for</span> _, field <span style="color:#666">:=</span> <span style="color:#007020;font-weight:bold">range</span> msg.Field {
		fieldName <span style="color:#666">:=</span> g.<span style="color:#06287e">GetFieldName</span>(msg, field)
		<span style="color:#007020;font-weight:bold">if</span> field.<span style="color:#06287e">IsString</span>() {
			g.<span style="color:#06287e">P</span>(fieldName, <span style="color:#4070a0">`: &#34;f267332d-0d9a-4220-b055-63b661b600db&#34;,`</span>) 
		}
	}
    g.<span style="color:#06287e">Out</span>()
    g.<span style="color:#06287e">P</span>(<span style="color:#4070a0">`}`</span>)
}
</code></pre></div><p>For the above <code>string</code> field we are returning a hard coded value, but we can easily replace this for auto-generated values.</p>
<h2 id="building-our-plugin">Building our plugin</h2>
<p>All that is left to do is wire up our plugin (errors ignored for brevity):</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#007020;font-weight:bold">func</span> <span style="color:#06287e">main</span>() {
    gen <span style="color:#666">:=</span> generator.<span style="color:#06287e">New</span>()
    data, _ <span style="color:#666">:=</span> ioutil.<span style="color:#06287e">ReadAll</span>(os.Stdin)
    proto.<span style="color:#06287e">Unmarshal</span>(data, gen.Request)
    gen.<span style="color:#06287e">CommandLineParameters</span>(gen.Request.<span style="color:#06287e">GetParameter</span>())
	gen.<span style="color:#06287e">WrapTypes</span>()
	gen.<span style="color:#06287e">SetPackageNames</span>()
	gen.<span style="color:#06287e">BuildTypeNameMap</span>()

    gen.<span style="color:#06287e">GeneratePlugin</span>(plugin.<span style="color:#06287e">New</span>())
    <span style="color:#007020;font-weight:bold">for</span> i <span style="color:#666">:=</span> <span style="color:#40a070">0</span>; i &lt; <span style="color:#007020">len</span>(gen.Response.File); i<span style="color:#666">++</span> {
		gen.Response.File[i].Name = proto.<span style="color:#06287e">String</span>(strings.<span style="color:#06287e">Replace</span>(<span style="color:#666">*</span>gen.Response.File[i].Name, <span style="color:#4070a0">&#34;.pb.go&#34;</span>, <span style="color:#4070a0">&#34;.mock.go&#34;</span>, <span style="color:#666">-</span><span style="color:#40a070">1</span>))
    }
    
    data, _ = proto.<span style="color:#06287e">Marshal</span>(gen.Response)
    os.Stdout.<span style="color:#06287e">Write</span>(data)
}
</code></pre></div><p>By convention of protoc plugins our binary must be prefixed with <code>protoc-gen-</code> so in our case we are going to build our binary as <code>protoc-gen-gogrpcmock</code>.</p>
<p>Now we can use our plugin to generate the mock implementation of our service:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ protoc -I. --go_out<span style="color:#666">=</span><span style="color:#bb60d5">plugin</span><span style="color:#666">=</span><span style="color:#bb60d5">grpc</span><span style="color:#666">=</span>:/out --gogrpcmock_out<span style="color:#666">=</span>:/out src/*.proto
</code></pre></div><h2 id="usage">Usage</h2>
<p>Now that we have our generated output we can use it (along with the gRPC output stub) to build a mock gRPC Server:</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">grpcServer <span style="color:#666">:=</span> grpc.<span style="color:#06287e">NewServer</span>()
myservice.<span style="color:#06287e">RegisterMyServiceServer</span>(s, <span style="color:#666">&amp;</span>myservice.MyServiceMock{})
lis, _ <span style="color:#666">:=</span> net.<span style="color:#06287e">Listen</span>(<span style="color:#4070a0">&#34;tcp&#34;</span>, <span style="color:#40a070">50501</span>)
grpcServer.<span style="color:#06287e">Serve</span>(lis)
</code></pre></div><h2 id="batteries-included">Batteries included</h2>
<p>If you are looking for a complete solution to generate mock data for your gRPC service(s) then you can take a look at my <a href="https://github.com/SafetyCulture/s12-proto/tree/master/protobuf/protoc-gen-gogrpcmock">gRPC Mock Generator</a>; just install via <code>go get</code> and start using the <code>protoc-gen-gogrpcmock</code> plugin (FYI: I use the Gogo version of protobuf for this plugin)</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ go get -u github.com/SafetyCulture/s12-proto/protobuf/protoc-gen-gogrpcmock
$ protoc -I. --gogo_out<span style="color:#666">=</span><span style="color:#bb60d5">plugin</span><span style="color:#666">=</span><span style="color:#bb60d5">grpc</span><span style="color:#666">=</span>:/out --gogrpcmock_out<span style="color:#666">=</span>:/out src/*.proto
</code></pre></div>
        
        <div style="margin-top: 4em" v>
          <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "rogchap" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
        </div>
        
      </div>
    </div>
  </div>
  <div class="pure-u-1-24 pure-u-md-5-24"></div>
</div>

<div class="footer pure-g">
  <div class="pure-u-1-24 pure-u-md-5-24"></div>
  <div class="pure-u-11-12 pure-u-md-7-12">
    <div class="footer-content">
      <div class="pure-menu pure-menu-horizontal">
        <ul>
          

          
          <li class="pure-menu-item">
            <a href="mailto:rogchap@gmail.com" class="pure-menu-link">Email</a>
          </li>
          

          
          <li class="pure-menu-item">
            <a href="https://github.com/rogchap" class="pure-menu-link">GitHub</a>
          </li>
          

          
          <li class="pure-menu-item">
            <a href="https://twitter.com/rogchap" class="pure-menu-link">Twitter</a>
          </li>
          

          
          <li class="pure-menu-item">
            <a href="https://medium.com/@rogchap" class="pure-menu-link">Medium</a>
          </li>
          

        </ul>
        <a href="#" class="pure-menu-link pull-right desktop" id="gototop-btn">↑↑</a>
        
      </div>
      
    </div>
  </div>
  <div class="pure-u-1-24 pure-u-md-5-24"></div>
</div>

<script type="text/javascript">
  function go() {
    var d = document.querySelectorAll(".desktop")
    if (document.documentElement.clientWidth > 768) {
      d.forEach(function (e) { e.style.display = ""; })
    } else {
      d.forEach(function (e) { e.style.display = "none"; })
    }
  }
  go();
  window.addEventListener('resize', go);
</script>
<script type="text/javascript">
  var a = document.querySelector("#toggle-btn"), b = document.querySelector("#toggle-content"); a.addEventListener("click", function () { "" == b.style.display ? (b.style.display = "none", a.innerHTML = "☰") : (b.style.display = "", a.innerHTML = "✕") });</script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-4155555-8', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


</body>

</html>